<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BSTD-DOMINO System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="profile-container">
        <div id="profileCorner" class="profile-header" onclick="toggleMenu()">
            <span id="cornerUsername" class="profile-name">–ì—ñ—Å—Ç—å</span>
            <div id="avatarCircle" class="avatar-circle">–ì</div>
        </div>
        
        <div id="dropdownMenu" class="dropdown-content">
            <a onclick="showSection('main')">–ì–æ–ª–æ–≤–Ω–∞</a>
            <a onclick="showSection('profile')">–ü—Ä–æ—Ñ—ñ–ª—å</a>
            <a onclick="showSection('news')">–ù–æ–≤–∏–Ω–∏</a>
            <a onclick="showSection('team')">–ü–∞—Ä—Ç—ñ—è</a>
            <a onclick="showSection('tests')">–¢–µ—Å—Ç–∏</a> 
            <a onclick="showSection('support')">–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ / –Ü–¥–µ—è</a>
            <a id="adminBtn" onclick="showSection('admin')" style="display: none; color: red; font-weight: bold;">–ê–ê</a>
            <div class="divider"></div>
            <a onclick="handleLogout()" class="logout-btn">–í–∏—Ö—ñ–¥</a>
        </div>
    </div>

    <div id="loginSection" class="container">
        <h1>–í—Ö—ñ–¥ BSTD</h1>
        <input type="text" id="loginUser" placeholder="–õ–æ–≥—ñ–Ω">
        <input type="password" id="loginPass" placeholder="–ü–∞—Ä–æ–ª—å">
        <button id="btnLogin" onclick="performLogin()">–£–≤—ñ–π—Ç–∏</button>
        <div id="loginStatus" class="status-msg"></div>
        <p style="font-size: 0.9em;">–ù–µ–º–∞—î –∞–∫–∞—É–Ω—Ç—É? <span class="text-link" onclick="showSection('register')">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</span></p>
    </div>

    <div id="registerSection" class="container hidden">
        <h1>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</h1>
        <input type="text" id="regUser" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ª–æ–≥—ñ–Ω">
        <input type="password" id="regPass" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å">
        <button id="btnReg" onclick="performRegister()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</button>
        <div id="regStatus" class="status-msg"></div>
        <p style="font-size: 0.9em;">–í–∂–µ —î –∞–∫–∞—É–Ω—Ç? <span class="text-link" onclick="showSection('login')">–£–≤—ñ–π—Ç–∏</span></p>
    </div>

    <div id="mainSection" class="container hidden">
        <h1 id="welcomeText">–í—ñ—Ç–∞—î–º–æ!</h1>
        <p>–î–æ—Å—Ç—É–ø –¥–æ —Ä–µ—Å—É—Ä—Å—ñ–≤ DOMINO –¥–æ–∑–≤–æ–ª–µ–Ω–æ.</p>
        <div class="menu-grid">
            <button class="btn" onclick="showSection('news')">–ù–æ–≤–∏–Ω–∏</button>
            <button class="btn" onclick="showSection('profile')">–ü—Ä–æ—Ñ—ñ–ª—å</button>
            <button class="btn" onclick="showSection('team')">–ü–∞—Ä—Ç—ñ—è</button>
            <button class="btn" onclick="showSection('support')">–ü—ñ–¥—Ç—Ä–∏–º–∫–∞</button>
        </div>
    </div>

    <div id="profileSection" class="container hidden">
        <h2>–ú—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å</h2>
        <img src="https://via.placeholder.com/100" style="border-radius: 50%;" alt="–ê–≤–∞—Ç–∞—Ä">
        <h3 id="profileName">User</h3>
        <p>–°—Ç–∞—Ç—É—Å: <span style="color:green; font-weight:bold;">–£ —Å–∏—Å—Ç–µ–º—ñ</span></p>
        <p>–ë–∞–ª–∏: <span id="profileScore">0</span></p>
        <p>–ü–∞—Ä—Ç—ñ—è: <span id="profileTeam">–ù–µ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–æ</span></p>
        <button onclick="showSection('main')">–ù–∞–∑–∞–¥</button>
    </div>

    <div id="newsSection" class="container hidden">
        <h2>–ù–æ–≤–∏–Ω–∏</h2>
        <p>–ù–æ–≤–∏–Ω –ø–æ–∫–∏ —â–æ –Ω–µ–º–∞—î.</p>
        <button onclick="showSection('main')">–ù–∞–∑–∞–¥</button>
    </div>

    <div id="teamSection" class="container hidden">
        <h2>–ü–∞—Ä—Ç—ñ—è</h2>
        <p>–í–∞—à —Å—Ç–∞—Ç—É—Å —É –ø–∞—Ä—Ç—ñ—ó: <strong id="teamStatusText">–ù–æ–≤</strong></p>
        <button onclick="showSection('main')">–ù–∞–∑–∞–¥</button>
    </div>

    <div id="supportSection" class="container hidden">
        <h2>–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–∞ –Ü–¥–µ—ó</h2>
        <p>–ú–∞—î—Ç–µ —ñ–¥–µ—é –¥–ª—è –ø–∞—Ä—Ç—ñ—ó –∞–±–æ –∑–Ω–∞–π—à–ª–∏ –ø–æ–º–∏–ª–∫—É?</p>
        <textarea id="supportMessage" placeholder="–û–ø–∏—à—ñ—Ç—å –≤–∞—à—É —ñ–¥–µ—é —Ç—É—Ç..." rows="5"></textarea>
        <button id="btnSupport" onclick="sendFeedback()">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
        <div id="supportStatus" class="status-msg"></div>
        <br><br>
        <button onclick="showSection('main')">–ù–∞–∑–∞–¥</button>
    </div>

    <div id="testsSection" class="container hidden">
        <h2>–î–æ—Å—Ç—É–ø–Ω—ñ –¢–µ—Å—Ç–∏</h2>
        <p>–í–∏–±–µ—Ä—ñ—Ç—å –∑–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:</p>
        
        <div id="testsListContainer" class="menu-grid" style="grid-template-columns: 1fr;">
            <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
        </div>
        
        <br>
        <button onclick="showSection('main')">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
    </div>

    <div id="adminSection" class="container hidden" style="border: 2px solid red;">
        <h2 style="color: red;">–ê–ê</h2>
        <div class="admin-tabs">
            <button onclick="document.getElementById('createTestForm').classList.toggle('hidden')">–í—ñ–¥–∫—Ä–∏—Ç–∏ –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</button>
        </div>
        <div id="createTestForm" class="hidden" style="text-align: left; margin-top: 15px;">
            <h3>–ù–æ–≤–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è</h3>
            <label>–¢–∏–ø:</label>
            <select id="newQType">
                <option value="mandatory">–û–±–æ–≤—è–∑–∫–æ–≤–∏–π (–ë–ª–æ–∫—É—î –≤—Ö—ñ–¥)</option>
                <option value="optional">–ó–≤–∏—á–∞–π–Ω–∏–π (–í –º–µ–Ω—é –¢–µ—Å—Ç–∏)</option>
            </select>
            <input type="text" id="newQText" placeholder="–¢–µ–∫—Å—Ç –∑–∞–ø–∏—Ç–∞–Ω–Ω—è...">
            <p style="margin-bottom: 5px; font-weight: bold;">–§–æ—Ç–æ (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ):</p>
            <input type="file" id="newQFile" accept="image/*">
            <p id="uploadStatus" style="font-size: 0.8em; color: blue;"></p>
            <input type="hidden" id="uploadedImageUrl">
            <h4>–í–∞—Ä—ñ–∞–Ω—Ç–∏ (–¢–µ–∫—Å—Ç | –ë–∞–ª–∏):</h4>
            <div id="answersContainer">
                <input type="text" class="ans-text" placeholder="–í—ñ–¥–ø–æ–≤—ñ–¥—å 1">
                <input type="number" class="ans-score" placeholder="–ë–∞–ª–∏">
                <br>
                <input type="text" class="ans-text" placeholder="–í—ñ–¥–ø–æ–≤—ñ–¥—å 2">
                <input type="number" class="ans-score" placeholder="–ë–∞–ª–∏">
            </div>
            <button onclick="addAnswerField()" style="background: grey; font-size: 0.8em;">+ –©–µ –≤–∞—Ä—ñ–∞–Ω—Ç</button>
            <hr>
            <button onclick="addToDraft()" style="background: orange; color: black; font-weight: bold;">–î–æ–¥–∞—Ç–∏ –≤ —Å–ø–∏—Å–æ–∫</button>
        </div>
        <div id="draftContainer" style="margin-top: 20px; border-top: 2px solid #ccc; padding-top: 10px;">
            <h3>üìã –°–ø–∏—Å–æ–∫ –ø–∏—Ç–∞–Ω—å:</h3>
            <div id="draftList" style="text-align: left; margin-bottom: 15px;"><p style="color: grey;">–ü—É—Å—Ç–æ...</p></div>
            <button id="btnPublish" onclick="publishTest()" style="background: green; display: none;">–ó–ê–í–ê–ù–¢–ê–ñ–ò–¢–ò –í–ï–°–¨ –¢–ï–°–¢</button>
        </div>
        <br>
        <button onclick="showSection('main')">–ù–∞–∑–∞–¥</button>
    </div>

    <div id="testPlayerSection" class="container hidden" style="max-width: 500px;">
        <img id="testImage" style="width: 100%; max-height: 250px; object-fit: contain; display: none; margin-bottom: 15px; border-radius: 8px;" referrerpolicy="no-referrer">
        <h2 id="testQuestionText">–ó–∞–ø–∏—Ç–∞–Ω–Ω—è...</h2>
        <div id="testAnswers" class="menu-grid"></div>
        <p style="font-size: 0.8em; color: grey; margin-top: 10px;">–ü–∏—Ç–∞–Ω–Ω—è <span id="qCurrent">0</span> –∑ <span id="qTotal">0</span></p>
    </div>

    <script src="script.js"></script>
</body>
</html>
